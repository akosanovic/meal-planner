<div class="container">
  <div class="row">
    <div class="col-sm-6"> {{date | date}} </div>
    <div class="col-sm-6">
      <div style="float: right;" class="dropdown">
        <button class="btn btn-primary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          Daily
        </button>
        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
          <a class="dropdown-item" href="#">Daily</a>
          <a class="dropdown-item" href="#">Weekly</a>
          <a class="dropdown-item" href="#">Monthly</a>
        </div>
      </div>
    </div>
  </div>

  <div class="row" style="max-width: 500px;">
    <div class="col-md-12 col-sm-12 list" *ngFor="let key of objectKeys(dailyPlanner)">

      <h3 class="list-title"> {{key | titlecase}} </h3>

      <ng-container *ngIf='(dailyPlanner[key]).length > 0; else noRecipe'>
        <div class="list-card" *ngFor='let recipe of dailyPlanner[key], let i = index'>
          <app-recipe-item [recipe]='recipe' (click)="removeRecipe(key, i)"></app-recipe-item>
        </div>
      </ng-container>

      <ng-template #noRecipe>
        <app-empty-placeholder [dropdownOptions]='recipes' (recipeSelected)='addRecipe($event, key)'></app-empty-placeholder>
      </ng-template>

      <a class="add-button">
        + Add meal
      </a>
    </div>

    <!-- <div class="col-md-12 col-sm-12">
			<h3> Breakfast	</h3>

			<ng-template [ngIf]="dBreakfast.length">
				<app-recipe-item *ngFor="let breakfast of dBreakfast" [recipe]='breakfast'></app-recipe-item>
			</ng-template>

			<ng-template #breakfast>		</ng-template>
		</div>

		<div class="col-md-12 col-sm-12">
			<h3> Lunch </h3>
			<ng-template [ngIf]="dLunch.length">
				<app-recipe-item *ngFor="let lunch of dLunch" [recipe]='lunch'></app-recipe-item>
			</ng-template>

			<ng-template *ngIf="!dLunch.length" #placeholderRef #lunch></ng-template>
		</div>

		<div class="col-md-12 col-sm-12">
			<h3> Dinner </h3>

			<ng-template [ngIf]="dDinner.length">
				<app-recipe-item *ngFor="let dinner of dDinner" [recipe]='dinner'></app-recipe-item>
			</ng-template>

			<ng-template *ngIf="!dDinner.length" #placeholderRef #dinner></ng-template>
		</div> -->
  </div>
</div>


<!-- TODO:
	- How to push selected recipe to the breakfast, lunch or dinner array
-->

<!-- <ng-template #emptyPlaceholder>
	<app-empty-placeholder [dropdownOptions]='recipes' (optionSelected)='selectedMeal($event)'></app-empty-placeholder>
</ng-template> -->